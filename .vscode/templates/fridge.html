<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fridge Items</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Select Items For Your Fridge:</h2>

  <!-- Search bar -->
  <div class="search-container">
    <input type="text" id="searchBar" placeholder="Search or add item...">
    <button onclick="addManualItem()">Add</button>
  </div>
      <!-- Repeat this for 33 items -->
<div class="small-box">
  <img src="{{ url_for('static', filename='images/tomato.png') }}" alt="tomato">
  <p>tomato</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/broccli.png') }}" alt="broccoli">
  <p>broccoli</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/lattus.png') }}" alt="lattuce">
  <p>lattuce</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/mushroom.png') }}" alt="mushroom">
  <p>mushroom</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/pepper.png') }}" alt="pepper">
  <p>pepper</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/spinach.png') }}" alt="spinach">
  <p>spinach</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/cucumber.png') }}" alt="cucumber">
  <p>cucumber</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/beet.png') }}" alt="beets">
  <p>beets</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/carrot.png') }}" alt="carrot">
  <p>carrot</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/eggplant.png') }}" alt="eggplant">
  <p>eggplant</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/onion.png') }}" alt="onion">
  <p>onion</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/apple.png') }}" alt="apple">
  <p>apple</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/banana.png') }}" alt="banana">
  <p>banana</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/avacado.png') }}" alt="avocado">
  <p>avocado</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/cheese.png') }}" alt="cheese">
  <p>cheese</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/corn.png') }}" alt="corn">
  <p>corn</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/eggs.png') }}" alt="eggs">
  <p>eggs</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/lemon.png') }}" alt="lemon">
  <p>lemon</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/milk.png') }}" alt="milk">
  <p>milk</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/fish.png') }}" alt="fish">
  <p>fish</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/chicken.png') }}" alt="chicken">
  <p>chicken</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/bread.png') }}" alt="bread">
  <p>bread</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/berries.png') }}" alt="berries">
  <p>berries</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/orange.png') }}" alt="orange">
  <p>orange</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/hotdogs.png') }}" alt="hot-dog">
  <p>hot-dog</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/watermelon.png') }}" alt="watermelon">
  <p>watermelon</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/potatos.png') }}" alt="potatoes">
  <p>potatoes</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/rice.png') }}" alt="rice">
  <p>rice</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/meat.png') }}" alt="meat">
  <p>meat</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/peach.png') }}" alt="peach">
  <p>peach</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/radish.png') }}" alt="radish">
  <p>radish</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/redbeans.png') }}" alt="red beans">
  <p>red beans</p>
</div>

<div class="small-box">
  <img src="{{ url_for('static', filename='images/tomato_paste.png') }}" alt="tomato paste">
  <p>tomato paste</p>
</div>
 <script>
    // Fake dataset example
    let fridgeDataset = {
      "tomato": { exists: true, daysLeft: 7 },
      "lettuce": { exists: true, daysLeft: 2 } // will expire soon
    };

    // Apply dataset colors
    document.querySelectorAll(".small-box").forEach(box => {
      let name = box.dataset.name;
      if (fridgeDataset[name]) {
        if (fridgeDataset[name].daysLeft <= 3) {
          box.classList.add("expiring");
        } else {
          box.classList.add("exists");
        }
      } else {
        box.classList.add("default");
      }

      // Clicking adds to dataset
      box.addEventListener("click", () => {
        fridgeDataset[name] = { exists: true, daysLeft: 7 }; 
        box.classList.remove("default", "expiring");
        box.classList.add("exists");
      });
    });

    // Search filter
    document.getElementById("searchBar").addEventListener("keyup", function() {
      let filter = this.value.toLowerCase();
      let boxes = document.querySelectorAll(".small-box");
      boxes.forEach(box => {
        let name = box.dataset.name.toLowerCase();
        box.style.display = name.includes(filter) ? "flex" : "none";
      });
    });

    // Add new item manually
    function addManualItem() {
      let input = document.getElementById("searchBar");
      let newItem = input.value.trim();
      if (!newItem) return;

      let grid = document.getElementById("itemsGrid");

      // Create new box
      let div = document.createElement("div");
      div.className = "small-box default";
      div.dataset.name = newItem.toLowerCase();
      div.innerHTML = `<img src="images/default.png" alt="${newItem}">
                      <p>${newItem}</p>`;

      div.addEventListener("click", () => {
        fridgeDataset[newItem.toLowerCase()] = { exists: true, daysLeft: 7 };
        div.classList.remove("default", "expiring");
        div.classList.add("exists");
      });

      grid.appendChild(div);
      input.value = "";
    }
  </script>
</body>
</html>